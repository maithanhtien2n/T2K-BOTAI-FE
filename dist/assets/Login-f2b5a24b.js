import{u as g,S as x,r as w,a as v,b as i,c as b,d as y,e as t,f as n,w as u,g as o,o as S}from"./index-43c2b127.js";import{c as T,a as p,u as V,_ as m}from"./InputTextValidate-99699f6a.js";const B={class:"h-screen flex flex-column justify-content-center align-items-center"},K={class:"w-20rem flex flex-column gap-3"},A=t("div",{class:"flex gap-3 align-items-center"},[t("span",{class:"flex-1 border-top-1 text-300"}),t("span",{class:"text-700"},"hoặc"),t("span",{class:"flex-1 border-top-1 text-300"})],-1),$={__name:"Login",setup(C){const r=g(),{onActionLoginAccount:d}=x(),f=w({email:"",password:""}),h=T({email:p().required("Vui lòng nhập tên tài khoản"),password:p().required("Vui lòng nhập mật khẩu")}),{values:_,handleSubmit:k}=V({initialValues:f,validationSchema:h,keepValuesOnUnmount:!0}),l=k(async()=>{var a,s,c;const e=await d(_);e.success&&(r.back(),v((a=e==null?void 0:e.data)==null?void 0:a.accessToken),i.value.userData=(s=e==null?void 0:e.data)==null?void 0:s.userData,i.value.accessToken=(c=e==null?void 0:e.data)==null?void 0:c.accessToken)});return(e,a)=>{const s=b("Button");return S(),y("div",B,[t("div",K,[n(m,{name:"email",class:"w-full",placeholder:"Tên tài khoản",onKeypress:u(o(l),["enter"])},null,8,["onKeypress"]),n(m,{name:"password",type:"password",class:"w-full",placeholder:"Mật khẩu",onKeypress:u(o(l),["enter"])},null,8,["onKeypress"]),n(s,{label:"Đăng nhập",onClick:o(l)},null,8,["onClick"]),A,n(s,{label:"Tạo tài khoản",class:"w-full",outlined:"",onClick:a[0]||(a[0]=c=>o(r).replace({name:"Register"}))})])])}}};export{$ as default};
